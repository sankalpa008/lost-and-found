module.exports=[20006,a=>a.a(async(b,c)=>{try{var d=a.i(37936),e=a.i(31191),f=a.i(9223),g=a.i(18558),h=a.i(13095),i=b([e,f]);async function j(){await (0,f.requireAdmin)();try{return await e.default.user.findMany({orderBy:{createdAt:"desc"},include:{_count:{select:{items:!0}}}})}catch(a){return console.error("Error fetching users:",a),[]}}async function k(a){await (0,f.requireAdmin)();try{if(!await e.default.user.findUnique({where:{id:a}}))return{success:!1,error:"User not found"};return await e.default.user.delete({where:{id:a}}),(0,g.revalidatePath)("/admin/users"),{success:!0}}catch(a){return console.error("Error deleting user:",a),{success:!1,error:"Failed to delete user"}}}async function l(a,b,c){await (0,f.requireAdmin)();try{if(await e.default.user.findUnique({where:{email:a}}))return{success:!1,error:"User with this email already exists"};let d=await (0,f.hashPassword)(b);return await e.default.user.create({data:{email:a,password:d,name:c,role:"ADMIN"}}),(0,g.revalidatePath)("/admin/users"),{success:!0}}catch(b){console.error("Error creating admin user:",b);let a=b instanceof Error?b.message:"Failed to create user";return{success:!1,error:a}}}async function m(a,b,c){await (0,f.requireAdmin)();try{if(await e.default.user.findUnique({where:{email:a}}))return{success:!1,error:"User with this email already exists"};let d=await (0,f.hashPassword)(b);return await e.default.user.create({data:{email:a,password:d,name:c,role:"STUDENT"}}),(0,g.revalidatePath)("/admin/users"),{success:!0}}catch(b){console.error("Error creating student user:",b);let a=b instanceof Error?b.message:"Failed to create user";return{success:!1,error:a}}}[e,f]=i.then?(await i)():i,(0,h.ensureServerEntryExports)([j,k,l,m]),(0,d.registerServerReference)(j,"0017f7986cc16dea30f6f1f8172cfbd97e7efaa604",null),(0,d.registerServerReference)(k,"40901afc44bc2e63c4c4d91d21e1c8a37aa778052c",null),(0,d.registerServerReference)(l,"709af9d15934fda82e752e145449fd84e7a54102ea",null),(0,d.registerServerReference)(m,"702156816a9106d86bc3d4dc013b326a8dd14a003b",null),a.s(["createAdminUser",()=>l,"createStudentUser",()=>m,"deleteUser",()=>k,"getAllUsers",()=>j]),c()}catch(a){c(a)}},!1),34092,a=>a.a(async(b,c)=>{try{var d=a.i(20006),e=a.i(77728),f=b([d,e]);[d,e]=f.then?(await f)():f,a.s([]),c()}catch(a){c(a)}},!1),41979,a=>a.a(async(b,c)=>{try{var d=a.i(34092),e=a.i(20006),f=a.i(77728),g=b([d,e,f]);[d,e,f]=g.then?(await g)():g,a.s(["0017f7986cc16dea30f6f1f8172cfbd97e7efaa604",()=>e.getAllUsers,"00ff1d0b6e750f2af6d32139b707e387ab1a6be8d4",()=>f.signOut,"40901afc44bc2e63c4c4d91d21e1c8a37aa778052c",()=>e.deleteUser,"702156816a9106d86bc3d4dc013b326a8dd14a003b",()=>e.createStudentUser,"709af9d15934fda82e752e145449fd84e7a54102ea",()=>e.createAdminUser]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=_2de54e23._.js.map