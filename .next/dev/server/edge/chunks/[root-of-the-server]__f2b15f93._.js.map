{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport type { NextRequest } from \"next/server\";\n\n// Simple middleware for route protection\nexport function middleware(request: NextRequest) {\n  const sessionToken = request.cookies.get(\"session\")?.value;\n  const { pathname } = request.nextUrl;\n\n  // Public routes\n  const publicRoutes = [\"/\", \"/login\", \"/signup\"];\n  const isPublicRoute = publicRoutes.includes(pathname);\n\n  // If no session and trying to access protected route, redirect to login\n  if (!sessionToken && !isPublicRoute) {\n    const loginUrl = new URL(\"/login\", request.url);\n    return NextResponse.redirect(loginUrl);\n  }\n\n  // If has session and trying to access login/signup, redirect to dashboard\n  if (sessionToken && (pathname === \"/login\" || pathname === \"/signup\")) {\n    const dashboardUrl = new URL(\"/dashboard\", request.url);\n    return NextResponse.redirect(dashboardUrl);\n  }\n\n  return NextResponse.next();\n}\n\nexport const config = {\n  matcher: [\n    /*\n     * Match all request paths except for the ones starting with:\n     * - _next/static (static files)\n     * - _next/image (image optimization files)\n     * - favicon.ico (favicon file)\n     * - public (public files)\n     * - uploads (uploaded images)\n     */\n    \"/((?!_next/static|_next/image|favicon.ico|public|uploads).*)\",\n  ],\n};\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;;AAIO,SAAS,WAAW,OAAoB;IAC7C,MAAM,eAAe,QAAQ,OAAO,CAAC,GAAG,CAAC,YAAY;IACrD,MAAM,EAAE,QAAQ,EAAE,GAAG,QAAQ,OAAO;IAEpC,gBAAgB;IAChB,MAAM,eAAe;QAAC;QAAK;QAAU;KAAU;IAC/C,MAAM,gBAAgB,aAAa,QAAQ,CAAC;IAE5C,wEAAwE;IACxE,IAAI,CAAC,gBAAgB,CAAC,eAAe;QACnC,MAAM,WAAW,IAAI,IAAI,UAAU,QAAQ,GAAG;QAC9C,OAAO,gMAAY,CAAC,QAAQ,CAAC;IAC/B;IAEA,0EAA0E;IAC1E,IAAI,gBAAgB,CAAC,aAAa,YAAY,aAAa,SAAS,GAAG;QACrE,MAAM,eAAe,IAAI,IAAI,cAAc,QAAQ,GAAG;QACtD,OAAO,gMAAY,CAAC,QAAQ,CAAC;IAC/B;IAEA,OAAO,gMAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,SAAS;QACP;;;;;;;KAOC,GACD;KACD;AACH"}}]
}